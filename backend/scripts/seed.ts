/**
 * Balaqay โ Database Seed Script
 * Run: npm run db:seed
 *
 * Seeds:
 *  1. All predefined tasks (the full catalogue)
 *  2. A demo user + 2 children with measurements
 */

import 'reflect-metadata';
import * as dotenv from 'dotenv';
import { DataSource } from 'typeorm';
import * as bcrypt from 'bcrypt';

dotenv.config();

interface User {
  id: string;
  email: string;
  name: string;
}

interface Children {
  id: string;
  user_id: string;
  name: string;
  birth_date: Date;
  age_group: string;
  avatar_color: string;
}

// โโโ Data source (plain TypeORM, no NestJS) โโโโโโโโโโโโโโโโโโโ
const AppDataSource = new DataSource({
  type: 'postgres',
  host: process.env.DB_HOST || 'localhost',
  port: Number(process.env.DB_PORT) || 5432,
  username: process.env.DB_USER || 'postgres',
  password: process.env.DB_PASSWORD || 'postgres',
  database: process.env.DB_NAME || 'balaqay',
  synchronize: false,
  logging: false,
});

// โโโ Task catalogue โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

type AgeGroup = '0-1' | '1-3' | '3-6' | '6-10';
type TaskType = 'ะธะณัะพะฒะพะต' | 'ะดะฒะธะณะฐัะตะปัะฝะพะต' | 'ัะตัะตะฒะพะต' | 'ะบะพะณะฝะธัะธะฒะฝะพะต';
type TaskSection = 'ะทะฐะดะฐะฝะธะต' | 'ะฟะธัะฐะฝะธะต' | 'ัะฐะทะฒะธัะธะต';

interface TaskSeed {
  title: string;
  description: string;
  emoji: string;
  type: TaskType;
  section: TaskSection;
  age_group: AgeGroup;
  day_slot: 1 | 2;
  sort_order: number;
}

const TASKS: TaskSeed[] = [
  // โโ 0-1 ะณะพะด โโ ะะะะะะะฏ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  {
    age_group: '0-1',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ะดะฒะธะณะฐัะตะปัะฝะพะต',
    day_slot: 1,
    sort_order: 1,
    emoji: '๐คฒ',
    title: 'ะะฐััะฐะถ ัััะตะบ ะธ ะฝะพะถะตะบ',
    description:
      'ะะบะบััะฐัะฝะพ ะดะตะปะฐะนัะต ะผะฐััะฐะถ ัััะตะบ ะธ ะฝะพะถะตะบ ะผะฐะปััั ะฟะพ 5 ะผะธะฝัั. ะญัะพ ัะปัััะฐะตั ะบัะพะฒะพะพะฑัะฐัะตะฝะธะต ะธ ัะฐะบัะธะปัะฝะพะต ะฒะพัะฟัะธััะธะต.',
  },
  {
    age_group: '0-1',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ะบะพะณะฝะธัะธะฒะฝะพะต',
    day_slot: 2,
    sort_order: 1,
    emoji: '๐งธ',
    title: 'ะกะปะตะถะตะฝะธะต ะทะฐ ะธะณัััะบะพะน',
    description:
      'ะะตะดะปะตะฝะฝะพ ะดะฒะธะณะฐะนัะต ััะบัั ะธะณัััะบั ะฟะตัะตะด ะปะธัะพะผ ะผะฐะปััะฐ. ะะตะฑัะฝะพะบ ััะตะฝะธััะตั ัะพะบััะธัะพะฒะบั ะธ ัะปะตะถะตะฝะธะต ะฒะทะณะปัะดะพะผ.',
  },
  {
    age_group: '0-1',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ัะตัะตะฒะพะต',
    day_slot: 1,
    sort_order: 2,
    emoji: '๐ต',
    title: 'ะะพะปัะฑะตะปัะฝะฐั ะฟะตัะตะด ัะฝะพะผ',
    description:
      'ะกะฟะพะนัะต ะบะพะปัะฑะตะปัะฝัั, ะดะตัะถะฐ ัะตะฑัะฝะบะฐ ะฝะฐ ััะบะฐั. ะะพะปะพั ะผะฐะผั ะธ ัะธัะผ ััะฟะพะบะฐะธะฒะฐัั ะธ ัะฐะทะฒะธะฒะฐัั ัะปัั.',
  },
  {
    age_group: '0-1',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ะธะณัะพะฒะพะต',
    day_slot: 2,
    sort_order: 2,
    emoji: '๐',
    title: 'ะะณัะฐ ะฒ ยซะบั-ะบัยป',
    description:
      'ะัััััะต ะปะธัะพ ะทะฐ ััะบะฐะผะธ ะธ ะพัะบััะฒะฐะนัะต ัะพ ัะปะพะฒะพะผ ยซะบั-ะบั!ยป. ะะฐะทะฒะธะฒะฐะตั ะฟะพะฝััะธะต ะฟะพััะพัะฝััะฒะฐ ะพะฑัะตะบัะฐ.',
  },
  {
    age_group: '0-1',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ะดะฒะธะณะฐัะตะปัะฝะพะต',
    day_slot: 1,
    sort_order: 3,
    emoji: '๐๏ธ',
    title: 'ะัะตะผั ะฝะฐ ะถะธะฒะพัะธะบะต',
    description:
      'ะัะบะปะฐะดัะฒะฐะนัะต ะผะฐะปััะฐ ะฝะฐ ะถะธะฒะพั ะฝะฐ 5โ10 ะผะธะฝัั. ะฃะบัะตะฟะปัะตั ัะตั, ัะฟะธะฝั ะธ ะณะพัะพะฒะธั ะบ ะฟะพะปะทะฐะฝะธั.',
  },
  {
    age_group: '0-1',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ะบะพะณะฝะธัะธะฒะฝะพะต',
    day_slot: 2,
    sort_order: 3,
    emoji: '๐',
    title: 'ะะฒัะบะพะฒะฐั ะธะณัะฐ',
    description:
      'ะะพะณัะตะผะธัะต ะธะณัััะบะพะน ัะปะตะฒะฐ, ะฟะพัะพะผ ัะฟัะฐะฒะฐ ะพั ะผะฐะปััะฐ. ะะฐะทะฒะธะฒะฐะตั ัะปััะพะฒัั ะปะพะบะฐะปะธะทะฐัะธั ะธ ะฒะฝะธะผะฐะฝะธะต.',
  },
  {
    age_group: '0-1',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ัะตัะตะฒะพะต',
    day_slot: 1,
    sort_order: 4,
    emoji: '๐ฌ',
    title: 'ะะฐะทะณะพะฒะพั ั ะผะฐะปััะพะผ',
    description:
      'ะะฟะธััะฒะฐะนัะต ะฒัะปัั ะฒัั ััะพ ะดะตะปะฐะตัะต: ยซะกะตะนัะฐั ะผะฐะผะฐ ัะผะพะตั ัะตะฑะต ัััะบะธ...ยป. ะคะพัะผะธััะตั ัะตัะตะฒัะต ะฟะฐััะตัะฝั.',
  },

  // โโ 0-1 ะณะพะด โโ ะะะะะะขะะ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  {
    age_group: '0-1',
    section: 'ัะฐะทะฒะธัะธะต',
    type: 'ะบะพะณะฝะธัะธะฒะฝะพะต',
    day_slot: 1,
    sort_order: 1,
    emoji: '๐',
    title: 'ะขะฐะบัะธะปัะฝะพะต ัะฐะทะฒะธัะธะต',
    description:
      'ะะตะฑัะฝะพะบ ะฟะพะทะฝะฐัั ะผะธั ัะตัะตะท ะฟัะธะบะพัะฝะพะฒะตะฝะธั. ะะฐะฒะฐะนัะต ะฟัะตะดะผะตัั ัะฐะทะฝะพะน ัะตะบััััั: ะผัะณะบะธะต, ะณะปะฐะดะบะธะต, ัะตััะฐะฒัะต. ะะฐะทะฝะพะพะฑัะฐะทะธะต ะพัััะตะฝะธะน ัััะพะธั ะฝะตะนัะพะฝะฝัะต ัะฒัะทะธ.',
  },
  {
    age_group: '0-1',
    section: 'ัะฐะทะฒะธัะธะต',
    type: 'ัะตัะตะฒะพะต',
    day_slot: 2,
    sort_order: 1,
    emoji: '๐',
    title: 'ะกะปััะพะฒะพะต ัะฐะทะฒะธัะธะต',
    description:
      'ะะพะฒะพัะธัะต, ะฟะพะนัะต, ัะธัะฐะนัะต ะฒัะปัั โ ะผะฐะปัั ะฒัั ัะปััะธั ะธ ะทะฐะฟะพะผะธะฝะฐะตั ัะธัะผะธะบั ัะตัะธ. ะัะฟะพะปัะทัะนัะต ัะฐะทะฝัะต ะธะฝัะพะฝะฐัะธะธ, ััะพ ััะธะผัะปะธััะตั ะผะพะทะณ.',
  },

  // โโ 0-1 ะณะพะด โโ ะะะขะะะะ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  {
    age_group: '0-1',
    section: 'ะฟะธัะฐะฝะธะต',
    type: 'ะบะพะณะฝะธัะธะฒะฝะพะต',
    day_slot: 1,
    sort_order: 1,
    emoji: '๐คฑ',
    title: 'ะััะดะฝะพะต ะฒัะบะฐัะผะปะธะฒะฐะฝะธะต',
    description:
      'ะััะดะฝะพะต ะผะพะปะพะบะพ โ ะธะดะตะฐะปัะฝะฐั ะตะดะฐ ะดะพ 6 ะผะตัััะตะฒ. ะกะพะดะตัะถะธั ะฐะฝัะธัะตะปะฐ, ัะพัะผะธััะตั ะธะผะผัะฝะธัะตั. ะะพัะผะธัะต ะฟะพ ััะตะฑะพะฒะฐะฝะธั.',
  },
  {
    age_group: '0-1',
    section: 'ะฟะธัะฐะฝะธะต',
    type: 'ะบะพะณะฝะธัะธะฒะฝะพะต',
    day_slot: 2,
    sort_order: 1,
    emoji: '๐ฅฆ',
    title: 'ะะตัะฒัะน ะฟัะธะบะพัะผ (ั 6 ะผะตั.)',
    description:
      'ะะฐัะฝะธัะต ั ะบะฐะฑะฐัะบะฐ, ัะฒะตัะฝะพะน ะบะฐะฟัััั ะธะปะธ ะฑัะพะบะบะพะปะธ. ะะฒะพะดะธัะต ะฟะพ 1 ะฟัะพะดัะบัั ะบะฐะถะดัะต 5โ7 ะดะฝะตะน. ะกะปะตะดะธัะต ะทะฐ ัะตะฐะบัะธะตะน ะบะพะถะธ ะธ ัััะปะพะผ.',
  },

  // โโ 1-3 ะณะพะดะฐ โโ ะะะะะะะฏ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  {
    age_group: '1-3',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ะบะพะณะฝะธัะธะฒะฝะพะต',
    day_slot: 1,
    sort_order: 1,
    emoji: '๐บ',
    title: 'ะะธัะฐะผะธะดะบะฐ',
    description:
      'ะกะพะฑะตัะธัะต ะฟะธัะฐะผะธะดะบั ะธะท 5 ะบะพะปะตั ะฒะผะตััะต ั ัะตะฑัะฝะบะพะผ, ะฝะฐะทัะฒะฐั ัะฒะตัะฐ. ะขัะตะฝะธััะตั ะฟะพััะดะพะบ, ัะฒะตัะฐ ะธ ะผะตะปะบัั ะผะพัะพัะธะบั.',
  },
  {
    age_group: '1-3',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ัะตัะตะฒะพะต',
    day_slot: 2,
    sort_order: 1,
    emoji: '๐',
    title: 'ะงะธัะฐะตะผ ัะบะฐะทะบั',
    description:
      'ะัะพัะธัะฐะนัะต ะบะพัะพัะบัั ัะบะฐะทะบั, ะฟะพะบะฐะทัะฒะฐั ะบะฐััะธะฝะบะธ ะธ ะทะฐะดะฐะฒะฐั ะฒะพะฟัะพัั ยซะ ะณะดะต ะผะธัะบะฐ?ยป. ะะฐะทะฒะธะฒะฐะตั ัะปะพะฒะฐัะฝัะน ะทะฐะฟะฐั.',
  },
  {
    age_group: '1-3',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ะธะณัะพะฒะพะต',
    day_slot: 1,
    sort_order: 2,
    emoji: 'โ๏ธ',
    title: 'ะะธััะตะผ ะฒะผะตััะต',
    description:
      'ะะฐะนัะต ะฑะพะปััะพะน ะปะธัั ะธ ัะพะปัััะต ะผะตะปะบะธ. ะะธััะนัะต ะบััะณะธ, ะปะธะฝะธะธ, ะฝะฐะทัะฒะฐะนัะต ััะพ ะฟะพะปััะฐะตััั. 10โ15 ะผะธะฝัั.',
  },
  {
    age_group: '1-3',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ะดะฒะธะณะฐัะตะปัะฝะพะต',
    day_slot: 2,
    sort_order: 2,
    emoji: '๐',
    title: 'ะขะฐะฝััะตะผ ะฟะพะด ะผัะทัะบั',
    description:
      'ะะบะปััะธัะต ะดะตััะบะธะต ะฟะตัะฝะธ ะธ ัะฐะฝััะนัะต ะฒะผะตััะต 10 ะผะธะฝัั. ะะฐะทะฒะธะฒะฐะตั ะบะพะพัะดะธะฝะฐัะธั, ัะธัะผ, ะดะฐัะธั ัะฐะดะพััั.',
  },
  {
    age_group: '1-3',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ะบะพะณะฝะธัะธะฒะฝะพะต',
    day_slot: 1,
    sort_order: 3,
    emoji: '๐จ',
    title: 'ะกะพััะธัะพะฒะบะฐ ะฟะพ ัะฒะตัั',
    description:
      'ะะฐะทะปะพะถะธัะต ะฟัะตะดะผะตัั (ะบัะฑะธะบะธ, ะบัััะบะธ) ะฟะพ ัะฒะตัะฐะผ. ะะฐะทัะฒะฐะนัะต ะบะฐะถะดัะน ัะฒะตั. ะขัะตะฝะธััะตั ะบะฐัะตะณะพัะธะทะฐัะธั.',
  },
  {
    age_group: '1-3',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ัะตัะตะฒะพะต',
    day_slot: 2,
    sort_order: 3,
    emoji: '๐',
    title: 'ะฃะณะฐะดะฐะน ะถะธะฒะพัะฝะพะต',
    description:
      'ะะพะบะฐะทัะฒะฐะนัะต ะบะฐััะพัะบะธ ั ะถะธะฒะพัะฝัะผะธ ะธ ัะฟัะฐัะธะฒะฐะนัะต ยซะัะพ ััะพ?ยป ยซะะฐะบ ะณะพะฒะพัะธั?ยป. ะะฐััะธััะตั ัะปะพะฒะฐัั.',
  },
  {
    age_group: '1-3',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ะดะฒะธะณะฐัะตะปัะฝะพะต',
    day_slot: 1,
    sort_order: 4,
    emoji: 'โฝ',
    title: 'ะะฐัะธ ะผััะธะบ',
    description:
      'ะกัะดััะต ะฝะฐะฟัะพัะธะฒ ะธ ะบะฐัะฐะนัะต ะผัั ะดััะณ ะดััะณั. ะขัะตะฝะธััะตั ะบะพะพัะดะธะฝะฐัะธั, ะพะถะธะดะฐะฝะธะต ะพัะตัะตะดะธ, ัะพัะธะฐะปัะฝะพััั.',
  },

  // โโ 1-3 ะณะพะดะฐ โโ ะะะะะะขะะ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  {
    age_group: '1-3',
    section: 'ัะฐะทะฒะธัะธะต',
    type: 'ัะตัะตะฒะพะต',
    day_slot: 1,
    sort_order: 1,
    emoji: '๐ฌ',
    title: 'ะะตัะตะฒะพะต ัะฐะทะฒะธัะธะต',
    description:
      'ะ 2 ะณะพะดะฐ โ 50+ ัะปะพะฒ, ะบ 3 ะณะพะดะฐะผ โ ะฟัะพัััะต ะฟัะตะดะปะพะถะตะฝะธั. ะงะธัะฐะนัะต ะบะฝะธะณะธ, ะฝะฐะทัะฒะฐะนัะต ะฟัะตะดะผะตัั, ะฝะต ะธัะฟะพะปัะทัะนัะต ยซะดะตััะบะธะนยป ัะทัะบ.',
  },
  {
    age_group: '1-3',
    section: 'ัะฐะทะฒะธัะธะต',
    type: 'ะดะฒะธะณะฐัะตะปัะฝะพะต',
    day_slot: 2,
    sort_order: 1,
    emoji: 'โ',
    title: 'ะะตะปะบะฐั ะผะพัะพัะธะบะฐ',
    description:
      'ะะฐะทะปั, ะบัะฑะธะบะธ, ะฟะปะฐััะธะปะธะฝ, ะบััะฟั (ะฟะพะด ะฝะฐะฑะปัะดะตะฝะธะตะผ), ัะฝััะพะฒะบะฐ โ ะฒัั ััะพ ัะฐะทะฒะธะฒะฐะตั ััะบั ะธ ะณะพัะพะฒะธั ะบ ะฟะธััะผั.',
  },

  // โโ 1-3 ะณะพะดะฐ โโ ะะะขะะะะ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  {
    age_group: '1-3',
    section: 'ะฟะธัะฐะฝะธะต',
    type: 'ะบะพะณะฝะธัะธะฒะฝะพะต',
    day_slot: 1,
    sort_order: 1,
    emoji: '๐ฝ๏ธ',
    title: 'ะะฐะทะฝะพะพะฑัะฐะทะฝัะน ััะพะป',
    description:
      '5 ะฟัะธัะผะพะฒ ะฟะธัะธ ะฝะตะฑะพะปััะธะผะธ ะฟะพััะธัะผะธ. ะะฐัะธ, ััะฟั, ะผััะพ, ััะฑะฐ, ัััะบัั ะธ ะพะฒะพัะธ. ะะทะฑะตะณะฐะนัะต ัะฐัะฐัะฐ ะธ ัะพะปะธ.',
  },
  {
    age_group: '1-3',
    section: 'ะฟะธัะฐะฝะธะต',
    type: 'ะบะพะณะฝะธัะธะฒะฝะพะต',
    day_slot: 2,
    sort_order: 1,
    emoji: '๐ง',
    title: 'ะะธััะตะฒะพะน ัะตะถะธะผ',
    description:
      '1โ1.2 ะป ะฒะพะดั ะฒ ะดะตะฝั. ะะพะผะฟะพัั ะฑะตะท ัะฐัะฐัะฐ, ะบะธัะปะพะผะพะปะพัะฝัะต ะฟัะพะดัะบัั. ะกะพะบ โ ะฝะต ะฑะพะปะตะต 100 ะผะป ะฒ ะดะตะฝั.',
  },

  // โโ 3-6 ะปะตั โโ ะะะะะะะฏ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  {
    age_group: '3-6',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ะบะพะณะฝะธัะธะฒะฝะพะต',
    day_slot: 1,
    sort_order: 1,
    emoji: '๐งฉ',
    title: 'ะะฐะทะป 24 ะดะตัะฐะปะธ',
    description:
      'ะกะปะพะถะธัะต ะฒะผะตััะต ะฟะฐะทะป ะธะท 24 ะดะตัะฐะปะตะน. ะะฑััะถะดะฐะนัะต ะบะฐััะธะฝะบั. ะะฐะทะฒะธะฒะฐะตั ะปะพะณะธะบั, ะฟัะพัััะฐะฝััะฒะตะฝะฝะพะต ะผััะปะตะฝะธะต, ััะธะดัะธะฒะพััั.',
  },
  {
    age_group: '3-6',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ะธะณัะพะฒะพะต',
    day_slot: 2,
    sort_order: 1,
    emoji: '๐ซ',
    title: 'ะะตะฟะบะฐ ะธะท ะฟะปะฐััะธะปะธะฝะฐ',
    description:
      'ะกะปะตะฟะธัะต ะปัะฑะพะต ะถะธะฒะพัะฝะพะต ะธะท ะฟะปะฐััะธะปะธะฝะฐ. ะัััั ัะตะฑัะฝะพะบ ัะฐะผ ะฟัะธะดัะผะฐะตั ััะพ ะปะตะฟะธัั. 15โ20 ะผะธะฝัั.',
  },
  {
    age_group: '3-6',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ัะตัะตะฒะพะต',
    day_slot: 1,
    sort_order: 2,
    emoji: '๐ค',
    title: 'ะัะบะฒั ะฟะพ ะบะฐััะพัะบะฐะผ',
    description:
      'ะะพะบะฐะถะธัะต 5โ7 ะฑัะบะฒ ะฝะฐ ะบะฐััะพัะบะฐั, ะฝะฐะทัะฒะฐะนัะต ะธั ะฒะผะตััะต. ะัะธะดัะผะฐะนัะต ัะปะพะฒะพ ะฝะฐ ะบะฐะถะดัั ะฑัะบะฒั.',
  },
  {
    age_group: '3-6',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ะบะพะณะฝะธัะธะฒะฝะพะต',
    day_slot: 2,
    sort_order: 2,
    emoji: '๐งฑ',
    title: 'ะะะะ ะฟะพ ััะตะผะต',
    description:
      'ะะพัััะพะนัะต ะฟัะพัััั ัะธะณััั ะธะท ะบะพะฝััััะบัะพัะฐ ะฟะพ ััะตะผะต ะธะท ะธะฝััััะบัะธะธ. ะฃัะธั ัะธัะฐัั ััะตะผั ะธ ะฟะปะฐะฝะธัะพะฒะฐัั.',
  },
  {
    age_group: '3-6',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ัะตัะตะฒะพะต',
    day_slot: 1,
    sort_order: 3,
    emoji: '๐จโ๐ฉโ๐ง',
    title: 'ะะธััะตะผ ัะตะผัั',
    description:
      'ะะพะฟัะพัะธัะต ะฝะฐัะธัะพะฒะฐัั ะฒัั ัะตะผัั ะธ ัะฐััะบะฐะทะฐัั ะพ ัะธััะฝะบะต. ะะฐะทะฒะธะฒะฐะตั ัะตัั, ัะฐะผะพะฒััะฐะถะตะฝะธะต, ัะผะพัะธะพะฝะฐะปัะฝัะน ะธะฝัะตะปะปะตะบั.',
  },
  {
    age_group: '3-6',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ะดะฒะธะณะฐัะตะปัะฝะพะต',
    day_slot: 2,
    sort_order: 3,
    emoji: '๐คธ',
    title: 'ะฃััะตะฝะฝัั ะทะฐััะดะบะฐ',
    description:
      'ะกะดะตะปะฐะนัะต ะทะฐััะดะบั ะฒะผะตััะต: ะฟััะถะบะธ, ะฝะฐะบะปะพะฝั, ะฟะพะฒะพัะพัั. 10โ15 ะผะธะฝัั ะฟะพะด ะฒะตััะปัั ะผัะทัะบั.',
  },
  {
    age_group: '3-6',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ะธะณัะพะฒะพะต',
    day_slot: 1,
    sort_order: 4,
    emoji: '๐ญ',
    title: 'ะะพะปะตะฒะฐั ะธะณัะฐ',
    description:
      'ะกัะณัะฐะนัะต ะฒ ยซะผะฐะณะฐะทะธะฝยป, ยซะฑะพะปัะฝะธััยป ะธะปะธ ยซัะบะพะปัยป. ะะพะปะตะฒัะต ะธะณัั ัะฐะทะฒะธะฒะฐัั ัะพัะธะฐะปัะฝัะต ะฝะฐะฒัะบะธ ะธ ัะตัั.',
  },

  // โโ 3-6 ะปะตั โโ ะะะะะะขะะ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  {
    age_group: '3-6',
    section: 'ัะฐะทะฒะธัะธะต',
    type: 'ะบะพะณะฝะธัะธะฒะฝะพะต',
    day_slot: 1,
    sort_order: 1,
    emoji: '๐ซ',
    title: 'ะะพะดะณะพัะพะฒะบะฐ ะบ ัะบะพะปะต',
    description:
      'ะะปัะฐะฒะธั, ัััั ะดะพ 10, ะพัะฝะพะฒะฝัะต ัะฒะตัะฐ ะธ ัะพัะผั. ะะฐะทะปั, ะะะะ, ัะธัะพะฒะฐะฝะธะต. 1โ2 ะทะฐะดะฐะฝะธั ะฟะพ 15โ20 ะผะธะฝัั โ ะฝะพัะผะฐ ะดะปั ััะพะณะพ ะฒะพะทัะฐััะฐ.',
  },
  {
    age_group: '3-6',
    section: 'ัะฐะทะฒะธัะธะต',
    type: 'ัะตัะตะฒะพะต',
    day_slot: 2,
    sort_order: 1,
    emoji: '๐ค',
    title: 'ะกะพัะธะฐะปัะฝัะต ะฝะฐะฒัะบะธ',
    description:
      'ะฃัะธัะต ะดะตะปะธัััั ะธะณัััะบะฐะผะธ, ะถะดะฐัั ัะฒะพะตะน ะพัะตัะตะดะธ, ะฒััะฐะถะฐัั ัะผะพัะธะธ ัะปะพะฒะฐะผะธ. ะะณัั ะฒ ะณััะฟะฟะฐั ะดะตัะตะน ะพัะตะฝั ะฒะฐะถะฝั.',
  },

  // โโ 3-6 ะปะตั โโ ะะะขะะะะ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  {
    age_group: '3-6',
    section: 'ะฟะธัะฐะฝะธะต',
    type: 'ะบะพะณะฝะธัะธะฒะฝะพะต',
    day_slot: 1,
    sort_order: 1,
    emoji: '๐ณ',
    title: 'ะะพัััะธะน ะทะฐะฒััะฐะบ',
    description:
      'ะะพัััะฐั ะบะฐัะฐ ะธะปะธ ัะนัะฐ ะฝะฐ ะทะฐะฒััะฐะบ ะพะฑัะทะฐัะตะปัะฝั. ะคััะบัั ะฒ ะฟะตัะตะบัั. ะััะพ ะธะปะธ ััะฑะฐ ะฝะฐ ะพะฑะตะด. ะัะณะบะธะน ัะถะธะฝ.',
  },
  {
    age_group: '3-6',
    section: 'ะฟะธัะฐะฝะธะต',
    type: 'ะบะพะณะฝะธัะธะฒะฝะพะต',
    day_slot: 2,
    sort_order: 1,
    emoji: '๐',
    title: 'ะะดะพัะพะฒัะต ะฟะตัะตะบััั',
    description:
      'ะฏะฑะปะพะบะพ, ะฑะฐะฝะฐะฝ, ะนะพะณััั, ัััะฝัะต ะบัะฑะธะบะธ โ ะธะดะตะฐะปัะฝัะน ะฟะตัะตะบัั. ะะทะฑะตะณะฐะนัะต ัะธะฟัะพะฒ, ัะปะฐะดะพััะตะน, ะณะฐะทะธัะพะฒะบะธ.',
  },

  // โโ 6-10 ะปะตั โโ ะะะะะะะฏ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  {
    age_group: '6-10',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ะบะพะณะฝะธัะธะฒะฝะพะต',
    day_slot: 1,
    sort_order: 1,
    emoji: '๐ข',
    title: 'ะะฐัะตะผะฐัะธัะตัะบะธะต ะฟัะธะผะตัั',
    description:
      'ะะตัะธัะต ะฒะผะตััะต 5โ10 ะฟัะธะผะตัะพะฒ ะฝะฐ ัะปะพะถะตะฝะธะต ะธ ะฒััะธัะฐะฝะธะต. ะัะฟะพะปัะทัะนัะต ััััะฝัะต ะฟะฐะปะพัะบะธ ะธะปะธ ัะธััะฝะบะธ ะดะปั ะฝะฐะณะปัะดะฝะพััะธ.',
  },
  {
    age_group: '6-10',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ัะตัะตะฒะพะต',
    day_slot: 2,
    sort_order: 1,
    emoji: '๐',
    title: 'ะงะธัะฐะตะผ ะฒัะปัั',
    description:
      'ะัะพัะธัะฐะนัะต ัััะฐะฝะธัั ะบะฝะธะณะธ ะฒัะปัั โ ะฒััะฐะทะธัะตะปัะฝะพ, ั ะธะฝัะพะฝะฐัะธะตะน. ะะฑััะดะธัะต ััะพ ะฟัะพะธะทะพัะปะพ ะฒ ะพัััะฒะบะต.',
  },
  {
    age_group: '6-10',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ะบะพะณะฝะธัะธะฒะฝะพะต',
    day_slot: 1,
    sort_order: 2,
    emoji: '๐งฉ',
    title: 'ะะฐะทะป 100 ะดะตัะฐะปะตะน',
    description:
      'ะกะพะฑะตัะธัะต ะฟะฐะทะป ะธะท 100 ะดะตัะฐะปะตะน. ะะฐะทะฒะธะฒะฐะตั ัะตัะฟะตะฝะธะต, ะฟัะพัััะฐะฝััะฒะตะฝะฝะพะต ะผััะปะตะฝะธะต, ะบะพะฝัะตะฝััะฐัะธั ะฒะฝะธะผะฐะฝะธั.',
  },
  {
    age_group: '6-10',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ะดะฒะธะณะฐัะตะปัะฝะพะต',
    day_slot: 2,
    sort_order: 2,
    emoji: '๐คธ',
    title: 'ะะฐััะดะบะฐ 15 ะผะธะฝัั',
    description:
      'ะััะถะบะธ, ะพัะถะธะผะฐะฝะธั ะพั ััะตะฝั, ะฟัะธัะตะดะฐะฝะธั, ะฟะปะฐะฝะบะฐ. ะะพััะฐะฒััะต ัะฐะนะผะตั ะฝะฐ 15 ะผะธะฝัั. ะคะธะทะธัะตัะบะฐั ะฐะบัะธะฒะฝะพััั = ะทะดะพัะพะฒัะน ะผะพะทะณ.',
  },
  {
    age_group: '6-10',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ะธะณัะพะฒะพะต',
    day_slot: 1,
    sort_order: 3,
    emoji: '๐บ๏ธ',
    title: 'ะะฐัะธััะน ัะฒะพะน ัะฐะนะพะฝ',
    description:
      'ะัััั ัะตะฑัะฝะพะบ ะฝะฐัะธััะตั ะบะฐััั ัะฒะพะตะณะพ ะดะฒะพัะฐ ะธะปะธ ัะฐะนะพะฝะฐ ะฟะพ ะฟะฐะผััะธ. ะะฐะทะฒะธะฒะฐะตั ะฟัะพัััะฐะฝััะฒะตะฝะฝะพะต ะผััะปะตะฝะธะต.',
  },
  {
    age_group: '6-10',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ะบะพะณะฝะธัะธะฒะฝะพะต',
    day_slot: 2,
    sort_order: 3,
    emoji: 'โ๏ธ',
    title: 'ะะฐััะพะปัะฝะฐั ะธะณัะฐ',
    description:
      'ะกัะณัะฐะนัะต ะฒ ัะฐัะผะฐัั, ัะฐัะบะธ ะธะปะธ ะปัะฑัั ะฝะฐััะพะปัะฝัั ะธะณัั. 25โ30 ะผะธะฝัั ัะฐะทะฒะธะฒะฐัั ัััะฐัะตะณะธัะตัะบะพะต ะผััะปะตะฝะธะต.',
  },
  {
    age_group: '6-10',
    section: 'ะทะฐะดะฐะฝะธะต',
    type: 'ัะตัะตะฒะพะต',
    day_slot: 1,
    sort_order: 4,
    emoji: 'โ๏ธ',
    title: 'ะะธัะตะผ ะดะฝะตะฒะฝะธะบ',
    description:
      'ะะพะฟัะพัะธัะต ะฝะฐะฟะธัะฐัั 3โ5 ะฟัะตะดะปะพะถะตะฝะธะน ะพ ัะฒะพัะผ ะดะฝะต. ะะฐะทะฒะธะฒะฐะตั ะฟะธััะผะพ, ัะตัะปะตะบัะธั, ะณัะฐะผะพัะฝะพััั.',
  },

  // โโ 6-10 ะปะตั โโ ะะะะะะขะะ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  {
    age_group: '6-10',
    section: 'ัะฐะทะฒะธัะธะต',
    type: 'ะบะพะณะฝะธัะธะฒะฝะพะต',
    day_slot: 1,
    sort_order: 1,
    emoji: '๐ง',
    title: 'ะะพะณะฝะธัะธะฒะฝะพะต ัะฐะทะฒะธัะธะต',
    description:
      'ะงัะตะฝะธะต, ะผะฐัะตะผะฐัะธะบะฐ, ะปะพะณะธัะตัะบะธะต ะธะณัั. ะจะฐัะผะฐัั ะธ ะฝะฐััะพะปัะฝัะต ะธะณัั ะพัะปะธัะฝะพ ัะฐะทะฒะธะฒะฐัั ะผะพะทะณ. ะะท ะฟัะธะปะพะถะตะฝะธะน ัะตะบะพะผะตะฝะดัะตะผ Lumosity, Peak, Elevate โ 20 ะผะธะฝัั ะฒ ะดะตะฝั.',
  },
  {
    age_group: '6-10',
    section: 'ัะฐะทะฒะธัะธะต',
    type: 'ะดะฒะธะณะฐัะตะปัะฝะพะต',
    day_slot: 2,
    sort_order: 1,
    emoji: 'โฝ',
    title: 'ะคะธะทะธัะตัะบะพะต ัะฐะทะฒะธัะธะต',
    description:
      'ะกะฟะพััะธะฒะฝัะต ัะตะบัะธะธ: ัะฐะฝัั, ะณะธะผะฝะฐััะธะบะฐ, ะฟะปะฐะฒะฐะฝะธะต, ัััะฑะพะป. ะะฐััะดะบะฐ ะบะฐะถะดะพะต ัััะพ. ะัะพะณัะปะบะธ ะผะธะฝะธะผัะผ 1 ัะฐั ะฒ ะดะตะฝั.',
  },

  // โโ 6-10 ะปะตั โโ ะะะขะะะะ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
  {
    age_group: '6-10',
    section: 'ะฟะธัะฐะฝะธะต',
    type: 'ะบะพะณะฝะธัะธะฒะฝะพะต',
    day_slot: 1,
    sort_order: 1,
    emoji: '๐ช',
    title: 'ะญะฝะตัะณะธั ะดะปั ัะพััะฐ',
    description:
      'ะะตะปะพะบ ะธะท ะผััะฐ, ััะฑั, ัะธั ะธ ะฑะพะฑะพะฒัั. ะะฐะปััะธะน ะธะท ะผะพะปะพัะฝัั ะฟัะพะดัะบัะพะฒ ะดะปั ะบะพััะตะน. ะกะปะพะถะฝัะต ัะณะปะตะฒะพะดั (ะบะฐัะธ, ัะปะตะฑ) ะดะปั ัะฝะตัะณะธะธ ะธ ัะฐะฑะพัั ะผะพะทะณะฐ.',
  },
  {
    age_group: '6-10',
    section: 'ะฟะธัะฐะฝะธะต',
    type: 'ะบะพะณะฝะธัะธะฒะฝะพะต',
    day_slot: 2,
    sort_order: 1,
    emoji: '๐จโ๐ฉโ๐ง',
    title: 'ะกะตะผะตะนะฝัะน ััะพะป',
    description:
      'ะัััะต ะฒะผะตััะต ะฒัะตะน ัะตะผััะน ัะพัั ะฑั ัะฐะท ะฒ ะดะตะฝั. ะฃัะธัะต ัะตะฑัะฝะบะฐ ัะธัะฐัั ัะพััะฐะฒ ะฟัะพะดัะบัะพะฒ. ะคะฐััััะด โ ะฝะต ัะฐัะต 1 ัะฐะทะฐ ะฒ ะฝะตะดะตะปั.',
  },
];

// โโโ Main seed function โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

async function seed(): Promise<void> {
  console.log('๐ฑ Starting seed...');

  await AppDataSource.initialize();
  const db = AppDataSource;

  // 1. Upsert tasks (idempotent โ safe to run multiple times)
  console.log('  โ Seeding tasks...');
  for (const task of TASKS) {
    await db.query(
      `INSERT INTO tasks (title, description, emoji, type, section, age_group, day_slot, sort_order)
       VALUES ($1,$2,$3,$4,$5,$6,$7,$8)
       ON CONFLICT DO NOTHING`,
      [
        task.title,
        task.description,
        task.emoji,
        task.type,
        task.section,
        task.age_group,
        task.day_slot,
        task.sort_order,
      ],
    );
  }
  console.log(`  โ ${TASKS.length} tasks seeded`);

  // 2. Demo user
  console.log('  โ Seeding demo user...');
  const passwordHash = await bcrypt.hash('password', 10);

  const existingUser = await db.query<User[]>(
    `SELECT id FROM users WHERE email = 'demo@balaqay.app'`,
  );

  let userId: string;
  if (existingUser.length > 0) {
    userId = existingUser[0].id;
    console.log('  โน Demo user already exists, skipping');
  } else {
    const [user] = await db.query<User[]>(
      `INSERT INTO users (email, name, password_hash)
       VALUES ('demo@balaqay.app','ะะตะนะปะฐ','${passwordHash}')
       RETURNING id`,
    );
    userId = user.id;
    console.log(`  โ Demo user created (id: ${userId})`);
  }

  // 3. Demo children
  const existingChildren = await db.query<Children[]>(
    `SELECT id FROM children WHERE user_id = '${userId}'`,
  );

  if (existingChildren.length === 0) {
    console.log('  โ Seeding demo children...');

    // Child 1: ะะนั โ 3-6 ะปะตั
    const [child1] = await db.query<Children[]>(
      `INSERT INTO children (user_id, name, birth_date, age_group, avatar_color)
       VALUES ('${userId}','ะะนั','2020-04-15','3-6','#FFB347')
       RETURNING id`,
    );
    // Child 2: ะัะปะฐะฝ โ 6-10 ะปะตั
    const [child2] = await db.query<Children[]>(
      `INSERT INTO children (user_id, name, birth_date, age_group, avatar_color)
       VALUES ('${userId}','ะัะปะฐะฝ','2017-09-01','6-10','#87CEEB')
       RETURNING id`,
    );

    console.log(`  โ 2 children created`);

    // 4. Measurement history for child 1 (ะะนั)
    const measurements1 = [
      { months_ago: 6, h: 97, w: 14.2 },
      { months_ago: 5, h: 98.5, w: 14.6 },
      { months_ago: 4, h: 100, w: 15.0 },
      { months_ago: 3, h: 101.5, w: 15.3 },
      { months_ago: 2, h: 103, w: 15.8 },
      { months_ago: 1, h: 104, w: 16.2 },
      { months_ago: 0, h: 105.5, w: 16.5 },
    ];
    for (const m of measurements1) {
      await db.query(
        `INSERT INTO child_measurements (child_id, height_cm, weight_kg, measured_at)
         VALUES ($1,$2,$3, NOW() - INTERVAL '${m.months_ago} months')`,
        [child1.id, m.h, m.w],
      );
    }

    // Measurement history for child 2 (ะัะปะฐะฝ)
    const measurements2 = [
      { months_ago: 6, h: 118, w: 22.0 },
      { months_ago: 5, h: 119.5, w: 22.5 },
      { months_ago: 4, h: 121, w: 23.1 },
      { months_ago: 3, h: 122, w: 23.5 },
      { months_ago: 2, h: 123.5, w: 24.0 },
      { months_ago: 1, h: 125, w: 24.6 },
      { months_ago: 0, h: 126.5, w: 25.0 },
    ];
    for (const m of measurements2) {
      await db.query(
        `INSERT INTO child_measurements (child_id, height_cm, weight_kg, measured_at)
         VALUES ($1,$2,$3, NOW() - INTERVAL '${m.months_ago} months')`,
        [child2.id, m.h, m.w],
      );
    }

    console.log('  โ Measurement history seeded');
  }

  await AppDataSource.destroy();
  console.log('โ Seed complete!');
  console.log('');
  console.log('  Demo login: demo@balaqay.app / password');
}

seed().catch((err) => {
  console.error('โ Seed failed:', err);
  process.exit(1);
});
